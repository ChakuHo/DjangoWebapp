{% extends "master/base.html" %} {% load static %} {% block content %}

<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-conten padding-y bg">
  <div class="container">
    <div class="row">
      <aside class="col-md-3">
        <!--   SIDEBAR   -->
        <ul class="list-group">
          <a class="list-group-item active" href="{% url 'dashboard' %}">
            Dashboard
          </a>
          <a class="list-group-item" href="/orders/my-orders/">
            My Orders
          </a>
          <a class="list-group-item" href="{% url 'edit_profile' %}">
            Edit Profile
          </a>
          <a class="list-group-item" href="{% url 'my_selling_items' %}"> 
            My Selling Items 
          </a>
          <a class="list-group-item" href="{% url 'received_orders' %}"> 
            Received Orders 
          </a>
          <a class="list-group-item" href="{% url 'change_password' %}">
            Change Password
          </a>
        </ul>
        <br />
        <a class="btn btn-light btn-block" href="{% url 'logout' %}" 
           onclick="return confirm('Are you sure you want to logout?')">
          <i class="fa fa-power-off"></i> <span class="text">Log out</span>
        </a>
        <!--   SIDEBAR .//END   -->
      </aside>

      <main class="col-md-9">
        <article class="card">
          <header class="card-header">
            <strong class="d-inline-block mr-3">Logged in as:</strong>
            <span>{% if user.get_full_name %}{{ user.get_full_name }}{% else %}{{ user.username }}{% endif %}</span>
          </header>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6">
                <div class="card" style="text-align: center">
                  <div class="card-body">
                    <h5 class="card-title">Total Orders</h5>
                    <h4>{{ orders_count }}</h4>
                    {% if orders_count > 0 %}
                      <a href="/orders/my-orders/">View Orders</a>
                    {% else %}
                      <a href="{% url 'products:product' %}">Start Shopping</a>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card" style="text-align: center">
                  <div class="card-body">
                    <h5 class="card-title">Received Orders</h5>
                    <h4>0</h4>
                    <a href="{% url 'received_orders' %}">View Orders</a>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- User Info Section -->
            <div class="row mt-4">
              <div class="col-md-12">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Account Information</h5>
                    <div class="row">
                      <div class="col-md-6">
                        <p><strong>Username:</strong> {{ user.username }}</p>
                        <p><strong>Email:</strong> {{ user.email }}</p>
                        <p><strong>Member since:</strong> {{ user.date_joined|date:"M d, Y" }}</p>
                      </div>
                      <div class="col-md-6">
                        {% if profile.phone_number %}
                          <p><strong>Phone:</strong> {{ profile.phone_number }}</p>
                        {% endif %}
                        {% if profile.city %}
                          <p><strong>City:</strong> {{ profile.city }}</p>
                        {% endif %}
                        {% if profile.country %}
                          <p><strong>Country:</strong> {{ profile.country }}</p>
                        {% endif %}
                      </div>
                    </div>
                    <a href="{% url 'edit_profile' %}" class="btn btn-outline-primary btn-sm">
                      <i class="fa fa-edit"></i> Edit Profile
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <!-- row.// -->
          </div>
          <!-- card-body .// -->
        </article>
        <!-- order-group.// -->
      </main>
    </div>
    <!-- row.// -->
  </div>
</section>

<!-- ========================= SECTION CONTENT END// ========================= -->
{% endblock %}